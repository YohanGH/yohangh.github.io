:root {
	/* Modern Color Palette - Aligned with landing page */
	--primary-color: #6366f1;
	--primary-hover: #4f46e5;
	--secondary-color: #8b5cf6;
	--accent-color: #ec4899;
	--dark-bg: #0f172a;
	--darker-bg: #020617;
	--card-bg: #1e293b;
	--text-primary: #f8fafc;
	--text-secondary: #cbd5e1;
	--text-muted: #94a3b8;
	--border-color: #334155;
	--success-color: #10b981;
	--info-color: #06b6d4;
	--warning-color: #f59e0b;
	
	/* Legacy support (mapped to new colors) */
	--background-color: var(--darker-bg);
	--container-background-color: var(--card-bg);
	--text-color-pink-neon: var(--text-primary);
	--text-color-purple-neon: var(--primary-color);
	--title-color-green-neon: var(--primary-color);
	--hover-color-yellow-neon: var(--accent-color);
	--border-color-yellow-neon: var(--secondary-color);
	--border-color-red-neon: var(--accent-color);
	--shadow-color: var(--primary-color);
	--shadow-color-purple-neon: rgba(99, 102, 241, 0.6);

	/* Light mode colors */
	--background-color-light: #f8fafc;
	--text-color-light: #0f172a;
	--container-light: #ffffff;
	--border-light: #e2e8f0;
	--text-color-svgText: var(--primary-color);
	--border-color-svg: var(--primary-color);

	/* Typography */
	--font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
	--font-mono: 'Fira Code', 'Consolas', 'Monaco', monospace;
	--font-size-normal: 16px;
	--font-size-title: 2.5rem;
	--font-size-legend: 13px;
	--font-size-small: 12px;
	--font-size-large: 20px;
	--font-size-text: 13px;
	--font-size-text-tab: 16px;
	--font-size-text-mobile: 12px;

	/* Spacing */
	--margin-small: 0.5rem;
	--margin-standard: 1.5rem;
	--margin-large: 2rem;
	--padding-small: 0.75rem;
	--padding-standard: 1.5rem;
	--padding-large: 2rem;

	/* Dimensions */
	--width-small: 22px;
	--width-standard: 26px;
	--width-large: 60px;
	--height-small: 22px;
	--height-standard: 26px;
	--height-large: 34px;

	/* Spacing variables (for header compatibility) */
	--spacing-xs: 0.5rem;
	--spacing-sm: 1rem;
	--spacing-md: 1.5rem;
	--spacing-lg: 2rem;
	--spacing-xl: 3rem;
	--spacing-2xl: 4rem;

	/* Gradient variables (for header compatibility) */
	--gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
	--gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
	--gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);

	/* Transitions */
	--transition-speed: 0.3s;
	--transition-fast: 0.2s ease;
	--transition-normal: 0.3s ease;
	--transition-slow: 0.5s ease;
	--animation-duration: 0.6s;

	/* Shadows */
	--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
	--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
	--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.2);
	--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
	--shadow-glow: 0 0 20px rgba(99, 102, 241, 0.4);
}

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

body {
	background-color: var(--background-color);
	color: var(--text-primary);
	font-size: var(--font-size-normal);
	font-family: var(--font-family);
	line-height: 1.6;
	transition: background-color var(--transition-speed), color var(--transition-speed);
}

/* Header Styles - Support for unified landing-header */
header,
.landing-header {
	background: rgba(15, 23, 42, 0.8);
	backdrop-filter: blur(10px);
	border-bottom: 1px solid var(--border-color);
	padding: var(--spacing-sm) 0;
	position: sticky;
	top: 0;
	z-index: 1000;
	transition: all var(--transition-normal);
}

header nav,
.landing-header nav {
	max-width: 1200px;
	margin: 0 auto;
	padding: 0 var(--spacing-md);
	display: flex;
	justify-content: space-between;
	align-items: center;
}

header nav > div,
.landing-header nav > div {
	display: flex;
	align-items: center;
	gap: var(--spacing-lg);
}

.logo {
	font-size: 1.5rem;
	font-weight: 700;
	background: var(--gradient-1);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
	text-decoration: none;
	transition: transform var(--transition-fast);
}

.logo:hover {
	transform: scale(1.05);
}

.nav-links {
	display: flex;
	gap: var(--spacing-lg);
	list-style: none;
	margin: 0;
	padding: 0;
}

.nav-links a {
	color: var(--text-secondary);
	text-decoration: none;
	font-weight: 500;
	transition: color var(--transition-fast);
	position: relative;
}

.nav-links a::after {
	content: '';
	position: absolute;
	bottom: -4px;
	left: 0;
	width: 0;
	height: 2px;
	background: var(--primary-color);
	transition: width var(--transition-normal);
}

.nav-links a:hover {
	color: var(--text-primary);
}

.nav-links a:hover::after {
	width: 100%;
}

/* Legacy header styles for backward compatibility */
header nav a:not(.logo):not(.nav-links a) {
	color: var(--text-secondary);
	text-decoration: none;
	font-weight: 500;
	transition: all var(--transition-speed);
	display: inline-flex;
	align-items: center;
	gap: 0.4rem;
	padding: 0.3rem 0.6rem;
	border-radius: 6px;
	font-size: 0.85rem;
}

header nav a:not(.logo):not(.nav-links a):hover {
	color: var(--text-primary);
	background: var(--card-bg);
	transform: translateX(-4px);
}

#header {
	font-size: 1.4rem;
	font-weight: 800;
	margin: 0.25rem 0;
	text-align: center;
	background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
	letter-spacing: -0.02em;
	line-height: 1.2;
}

/* Main Content */
main {
	max-width: 1400px;
	margin: 0 auto;
	padding: var(--padding-standard);
}

section {
	margin-bottom: var(--margin-large);
	padding: var(--padding-large);
	background: var(--card-bg);
	border-radius: 16px;
	border: 1px solid var(--border-color);
	transition: all var(--transition-speed);
}

section:hover {
	border-color: var(--primary-color);
	box-shadow: var(--shadow-lg);
}

section h2 {
	color: var(--primary-color);
	font-size: 1.75rem;
	font-weight: 700;
	margin-bottom: var(--margin-standard);
	padding-bottom: var(--padding-small);
	border-bottom: 2px solid var(--border-color);
}

section p {
	color: var(--text-secondary);
	line-height: 1.8;
	margin-bottom: 1rem;
}

section p:last-child {
	margin-bottom: 0;
}

a {
	color: var(--primary-color);
	text-decoration: none;
	transition: all var(--transition-speed);
	font-weight: 500;
}

a:hover {
	color: var(--primary-hover);
	text-decoration: underline;
}

a:focus {
	outline: 2px solid var(--primary-color);
	outline-offset: 2px;
	border-radius: 4px;
}

/* SVG Tree Visualization */
#tree-container {
	background: var(--darker-bg);
	border: 1px solid var(--border-color);
	border-radius: 12px;
	padding: var(--padding-standard);
	margin-bottom: var(--margin-large);
	min-height: 600px;
	position: relative;
	overflow: hidden;
}

svg {
	display: block;
	width: 100%;
	height: auto;
	min-height: 600px;
	margin: 0 auto;
	background-color: var(--darker-bg);
	border-radius: 8px;
}

/* Legend */
.legend {
	position: absolute;
	top: 20px;
	right: 20px;
	width: auto;
	max-width: 350px;
	font-size: var(--font-size-legend);
	color: var(--text-secondary);
	background-color: rgba(30, 41, 59, 0.95);
	backdrop-filter: blur(10px);
	border: 1px solid var(--border-color);
	border-radius: 12px;
	padding: var(--padding-standard);
	box-shadow: var(--shadow-lg);
	z-index: 100;
}

.legend h3 {
	color: var(--text-primary);
	font-size: 1rem;
	margin-bottom: 0.75rem;
	font-weight: 600;
}

/* Tree Nodes */
.node {
	cursor: pointer;
	transition: all var(--transition-speed);
}

.node circle {
	fill: var(--card-bg);
	stroke: var(--primary-color);
	stroke-width: 2px;
	transition: all var(--transition-speed);
}

.node circle:hover {
	fill: var(--primary-color);
	stroke: var(--primary-hover);
	stroke-width: 3px;
	filter: drop-shadow(0 0 8px var(--primary-color));
}

.node.node--internal circle {
	fill: var(--secondary-color);
}

.node.node--internal circle:hover {
	fill: var(--accent-color);
}

/* Tree Text Labels */
text {
	font-size: var(--font-size-text);
	font-family: var(--font-family);
	fill: var(--text-primary);
	text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
	pointer-events: none;
	font-weight: 500;
}

text.node-label {
	font-weight: 600;
}

/* Tree Links */
path.link {
	fill: none;
	stroke: var(--secondary-color);
	stroke-width: 2px;
	opacity: 0.6;
	transition: all var(--transition-speed);
}

path.link:hover {
	stroke: var(--primary-color);
	opacity: 1;
	stroke-width: 3px;
}

/* Theme Switch */
.theme-switch-wrapper {
	display: flex;
	align-items: center;
	justify-content: center;
	margin: 0.25rem 0;
	gap: 0.5rem;
}

.theme-switch-label {
	display: flex;
	align-items: center;
	cursor: pointer;
	gap: 0.75rem;
	color: var(--text-secondary);
	font-size: 0.9rem;
	font-weight: 500;
}

.theme-switch {
	position: relative;
	display: inline-block;
	width: 60px;
	height: 34px;
}

.theme-switch-input {
	opacity: 0;
	width: 0;
	height: 0;
}

.theme-slider {
	position: absolute;
	cursor: pointer;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
	transition: var(--transition-speed);
	border-radius: 34px;
	box-shadow: var(--shadow-md);
}

.theme-slider:before {
	content: "üåô";
	position: absolute;
	height: 26px;
	width: 26px;
	left: 4px;
	bottom: 4px;
	background-color: var(--text-primary);
	border-radius: 50%;
	transition: transform var(--transition-speed);
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 14px;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.theme-switch-input:checked + .theme-slider:before {
	content: "‚òÄÔ∏è";
	transform: translateX(26px);
}

.theme-switch-input:focus + .theme-slider {
	box-shadow: 0 0 0 2px var(--primary-color);
}

/* Footer */
footer {
	text-align: center;
	padding: var(--padding-large);
	margin-top: var(--margin-large);
	border-top: 1px solid var(--border-color);
	color: var(--text-muted);
	font-size: 0.9rem;
}

footer hr {
	display: none;
}

footer p {
	margin: 0.5rem 0;
}

/* Light Mode */
body.light-mode {
	background-color: var(--background-color-light);
	color: var(--text-color-light);
}

body.light-mode header,
body.light-mode .landing-header {
	background: rgba(255, 255, 255, 0.95);
	border-bottom: 1px solid var(--border-light);
}

body.light-mode .logo {
	background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
}

body.light-mode .nav-links a {
	color: #475569;
}

body.light-mode .nav-links a:hover {
	color: #0f172a;
}

body.light-mode section {
	background: var(--container-light);
	border-color: var(--border-light);
}

body.light-mode section:hover {
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

body.light-mode #tree-container {
	background: var(--container-light);
	border-color: var(--border-light);
}

body.light-mode svg {
	background-color: #f1f5f9;
}

body.light-mode .legend {
	background-color: rgba(255, 255, 255, 0.95);
	border-color: var(--border-light);
	color: var(--text-color-light);
}

body.light-mode .node circle {
	fill: white;
	stroke: var(--primary-color);
}

body.light-mode .node circle:hover {
	fill: var(--primary-color);
}

body.light-mode text {
	fill: var(--text-color-light);
	text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

body.light-mode path.link {
	stroke: var(--primary-color);
	opacity: 0.4;
}

body.light-mode path.link:hover {
	opacity: 0.8;
}

body.light-mode header nav a:hover {
	background: var(--background-color-light);
}

/* Responsive Design */
@media screen and (min-width: 769px) and (max-width: 1200px) {
	text {
		font-size: var(--font-size-text-tab);
	}
	
	.legend {
		max-width: 280px;
	}
}

@media screen and (max-width: 768px) {
	:root {
		--font-size-normal: 15px;
		--font-size-title: 2rem;
		--font-size-legend: 11px;
		--margin-standard: 1rem;
		--padding-standard: 1rem;
		--padding-large: 1.5rem;
	}

	header nav {
		flex-direction: column;
		text-align: center;
	}

	#header {
		font-size: 1.25rem;
		margin: 0.2rem 0;
	}
	
	header {
		padding: 0.2rem 0;
	}
	
	.theme-switch-wrapper {
		margin: 0.2rem 0;
	}
	
	header nav a {
		padding: 0.25rem 0.5rem;
		font-size: 0.8rem;
	}

	.legend {
		position: static;
		max-width: 100%;
		margin-bottom: 1rem;
	}

	text {
		font-size: var(--font-size-text-mobile);
	}

	section {
		padding: var(--padding-standard);
	}

	svg {
		min-height: 400px;
	}
}

@media screen and (max-width: 480px) {
	:root {
		--font-size-normal: 14px;
		--font-size-title: 1.5rem;
		--font-size-legend: 10px;
		--padding-small: 0.5rem;
		--margin-standard: 0.75rem;
	}

	#header {
		font-size: 1.5rem;
	}

	text {
		font-size: 10px;
	}

	.theme-switch {
		width: 50px;
		height: 28px;
	}

	.theme-switch-input:checked + .theme-slider:before {
		transform: translateX(22px);
	}
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}

/* Print Styles */
@media print {
	header, footer, .theme-switch-wrapper {
		display: none;
	}
	
	body {
		background: white;
		color: black;
	}
	
	section {
		page-break-inside: avoid;
		border: 1px solid #ccc;
	}
}
